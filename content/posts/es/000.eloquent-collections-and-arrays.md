---
date: 2024-02-19
title: 'Array, collection y eloquent collection en Laravel'
description: 'Conoce las diferencias entre las herramientas de manejo de datos en Laravel'
image: '/images/content/posts/eloquent-collections-and-arrays.png'
tags: ['Laravel', 'PHP', 'Tutoriales']
---

Cuando comence a programar en Laravel (que tambi√©n comenc√© a codificar en PHP) recuerdo escribir c√≥digo sin mucha idea de lo que hacia, pero que de alguna manera funcionaba, no sab√≠a diferencia entre tipos de datos u objetos, para m√≠ todo era lo mismo.

Recuerdo intentar acceder a propiedades de arreglos cuando me conectaba a APIs:

```php
$data = json_decode($response);

$data[0]['name']; // FATAL ERROR
```

O llamar al m√©todo `toArray` (ni siquiera sab√≠a de donde ven√≠a ese m√©todo) solo para poder trabajar con arreglos:

```php
$users = DB::table('users')->get()->toArray();

$users[0]['name'];
```

Despu√©s aprendi que si llamabas a json_decode con el segundo par√°metro `true` podia acceder a los valores mediante la notaci√≥n _\[ \]_ y termine usando los modelos de Eloquent de una manera bastante extra√±a y fea ü§¢:

```php
$user = json_decode(json_encode(User::first()), true);

$user['name'];
```


Llego un punto en que mi c√≥digo era inmantenible, practicamente era m√°s f√°cil refactorizar todo que intentar modificarlo, lo mejor que pude hacer fue leer, leer y leer, principalmente la [documentaci√≥n oficial de laravel](https://laravel.com/docs) y alg√∫n que otro tutorial que me encontraba por internet, mi primer acercamiento fue diferencia `array` de un `object`

Siempre tuve dudas de porque a veces funcionaba el de arriba y en otras el de abajo
```php
$user = $response->product;

$user = $response['product'];
```

## PHP Array y PHP Object

La principal diferencia ente estos 2 tipos de datos es la manera en que accesas a su informaci√≥n.

Por un lado tenemos un Array:

```php
$data = [];
```

Y el otro un Object:

```php
$data = new stdClass();  // manera 'oficial' de crear un Object
// Hay muchas maneras de crear un object, habitualmente usando esta funci√≥n es cuando comunmente los creamos
$data = json_decode($response);
``